
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>Shell编程 | LiMao の学习日常</title>
    <meta name="author" content="LiMao" />
    <meta name="description" content="welcome to my learning daily life" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/myAvatar.jpg" />

    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 5.4.2"></head>
<body>
    <canvas id="canvas" style="position: fixed; width: 2000px; height: 2000px; top: 0px">你的浏览器不支持canvas</canvas>
    <script src="/js/meteor.js"></script>


    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>少年不惧岁月长 彼方尚有荣光在</p>
                    <img src="/images/loading.gif"/>
                </div>
            </div>
        </transition>
        
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>LIMAO の学习日常</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;LIMAO の学习日常</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>Shell编程</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/12/7
        </span>
        
        <span class="category">
            <a href="/categories/Linux/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                Linux
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/Shell/" style="color: #00bcd4">Shell</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <div class="myToc">

<!-- toc -->

<ul>
<li><a href="#1%E5%8F%98%E9%87%8F">1.变量</a><ul>
<li><a href="#11%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F">1.1特殊变量</a></li>
<li><a href="#12%E5%8F%98%E9%87%8F%E5%BC%95%E7%94%A8%E5%8F%8A%E5%88%A0%E9%99%A4">1.2变量引用及删除</a></li>
</ul>
</li>
<li><a href="#2%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6%E5%91%BD%E4%BB%A4">2.常见状态和运算符，命令</a><ul>
<li><a href="#21%E6%95%B0%E6%8D%AE%E6%B5%81%E9%87%8D%E5%AE%9A%E5%90%91">2.1数据流重定向</a></li>
<li><a href="#22%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81">2.2常见状态</a></li>
</ul>
</li>
<li><a href="#3%E5%88%86%E6%94%AF%E4%B8%8E%E5%BE%AA%E7%8E%AF">3.分支与循环</a><ul>
<li><a href="#31%E8%BF%90%E7%AE%97%E7%AC%A6">3.1运算符</a></li>
<li><a href="#32if%E5%88%86%E6%94%AF">3.2if分支</a></li>
<li><a href="#33for%E5%BE%AA%E7%8E%AF">3.3for循环</a></li>
<li><a href="#34while%E5%BE%AA%E7%8E%AF">3.4while循环</a></li>
</ul>
</li>
<li><a href="#4awk">4.awk</a><ul>
<li><a href="#41awk%E6%A0%BC%E5%BC%8F">4.1awk格式</a></li>
<li><a href="#42%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA">4.2代码演示</a></li>
</ul>
</li>
<li><a href="#5sed">5.sed</a><ul>
<li><a href="#51%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">5.1基本语法</a></li>
<li><a href="#52%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">5.2代码示例</a></li>
</ul>
</li>
<li><a href="#6rpm%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85">6.RPM软件安装</a><ul>
<li><a href="#61%E5%AE%89%E8%A3%85%E5%8C%85%E5%8C%BA%E5%88%AB">6.1安装包区别</a></li>
<li><a href="#62%E5%91%BD%E4%BB%A4">6.2命令</a></li>
</ul>
</li>
<li><a href="#7yum">7.yum</a><ul>
<li><a href="#71%E5%91%BD%E4%BB%A4">7.1命令</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->

</div>



<h2><span id="1变量">1.变量</span></h2><h3><span id="11特殊变量">1.1特殊变量</span></h3><pre><code class="shell">    1.与命令行参数相关
        $*  #将所有位置参量看成一个字符串（以空格间隔） 
        $@  #将每个位置参量看成单独的字符串（以空格间隔）
        $0   #命令行上输入的Shell程序名。
        $#  #表示命令行上参数的个数。
    2.与进程状态相关
        $?  #表示上一条命令执行后的返回值
        $$  #当前进程的进程号
        $!  #显示运行在后台的最后一个作业的 PID
        $_  #在此之前执行的命令或脚本的最后一个参数
</code></pre>
<h3><span id="12变量引用及删除">1.2变量引用及删除</span></h3><pre><code class="shell">#变量赋值
project=/home/work    #变量重新赋值

#变量引用
subproj=$&#123;project&#125;/sub   #subproj引用了project，他俩的值一样了。
subproj=$project/sub     #等同于 subproj=$&#123;project&#125;

#变量删除
unset  project  
</code></pre>
<h2><span id="2常见状态和运算符命令">2.常见状态和运算符，命令</span></h2><h3><span id="21数据流重定向">2.1数据流重定向</span></h3><pre><code class="line">标准输入： 代码0，使用  &lt;  或者  &lt;&lt;
标准输出： 代码1，使用  &gt;  或者  &gt;&gt;
错误输出： 代码2，使用  &gt;  或者  &gt;&gt;

&gt; 表示 写入； &gt;&gt; 表示追加
&lt; 表示 读入； &lt;&lt; 表示结束读入
</code></pre>
<h3><span id="22常见状态">2.2常见状态</span></h3><p><strong>点击<a target="_blank" rel="noopener" href="https://www.cnblogs.com/qianzhilan/p/4391210.html">这里</a>进行查看</strong></p>
<h2><span id="3分支与循环">3.分支与循环</span></h2><h3><span id="31运算符">3.1运算符</span></h3><p><code>只用数字之间的比较</code></p>
<blockquote>
<table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-eq</td>
<td align="center">检测两个数是否相等，相等返回true</td>
</tr>
<tr>
<td align="center">-ne</td>
<td align="center">检测两个数是否不相等，相等返回true</td>
</tr>
<tr>
<td align="center">-gt</td>
<td align="center">检测左边的数是否大于右边的，如果是，则返回true</td>
</tr>
<tr>
<td align="center">-lt</td>
<td align="center">检测左边的数是否小于右边的，如果是，则返回true</td>
</tr>
<tr>
<td align="center">-ge</td>
<td align="center">检测左边的数是否大于等于右边的，如果是，则返回true</td>
</tr>
<tr>
<td align="center">-le</td>
<td align="center">检测左边的数是否小于等于右边的，如果是，则返回true</td>
</tr>
</tbody></table>
</blockquote>
<p><code>检测字符串</code></p>
<blockquote>
<table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#x3D;</td>
<td align="center">检测两个字符串是否相等，相等返回true</td>
</tr>
<tr>
<td align="center">!&#x3D;</td>
<td align="center">检测两个字符串是否不相等，不相等返回true</td>
</tr>
<tr>
<td align="center">-z</td>
<td align="center">检测字符串长度是否为0，为0返回true</td>
</tr>
<tr>
<td align="center">-n</td>
<td align="center">检测字符串长度是否不为0，不为0返回true</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">检测字符串是否不为空，不为空返回true</td>
</tr>
</tbody></table>
</blockquote>
<h3><span id="32if分支">3.2if分支</span></h3><pre><code class="shell">if[条件]
    then &quot;逻辑&quot;;
elif[条件] 
    then &quot;逻辑&quot;;
else
    &quot;逻辑&quot;;
fi
</code></pre>
<h3><span id="33for循环">3.3for循环</span></h3><pre><code class="shell">for i in [需要循环的列表]
do
    echo &quot;$i + 逻辑&quot;;
done

#================================
sum=0 
for((i=1;i&lt;=10;i++)) #使用双括号可以做表达式
do
    #let sum=$sum+$i
     sum=$((sum+i)) #需要做运算时，前面加上$； 做表达式时不需要$
done
</code></pre>
<h3><span id="34while循环">3.4while循环</span></h3><pre><code class="shell">i=1
sum=0
while((i &lt;= 10))
do
    sum=$((sum+i))
    ((i++))
done
</code></pre>
<h2><span id="4awk">4.awk</span></h2><h3><span id="41awk格式">4.1awk格式</span></h3><pre><code class="shell">格式1:  awk  【选项】 &#39;模式或条件&#123;操作&#125; &#39;    文件名

格式2: awk  -f  脚本文件   文件名
</code></pre>
<p><code>内置变量: </code></p>
<blockquote>
<table>
<thead>
<tr>
<th align="center"><strong>内置变量</strong></th>
<th align="center"><strong>功能</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">NF</td>
<td align="center">当前处理的行的字段个数（就是：有多少列）</td>
</tr>
<tr>
<td align="center">NR</td>
<td align="center">当前处理的行的行号（就是：有多少行）</td>
</tr>
<tr>
<td align="center">FNR</td>
<td align="center">读取文件的记录数（行号），从1开始，新的文件重新从1开始计数</td>
</tr>
<tr>
<td align="center">$0</td>
<td align="center">当前处理的行的整行内容（就是：表示一行的内容）</td>
</tr>
<tr>
<td align="center">$n</td>
<td align="center">当前处理行的第n个字段（就是：第n列）</td>
</tr>
<tr>
<td align="center">FILENAME</td>
<td align="center">被处理的文件名</td>
</tr>
<tr>
<td align="center">FS</td>
<td align="center">指定每行的字段分隔符，默认为空格或制表位（相当于选项 -F ）</td>
</tr>
<tr>
<td align="center">OFS</td>
<td align="center">输出字段的分隔符，默认也是空格</td>
</tr>
<tr>
<td align="center">RS</td>
<td align="center">行分割符。awk从文件上读取资料时，将根据Rs的定义把资料切割成许多条记录，而awk一次仅读取一条记录，预设值是“\n“</td>
</tr>
<tr>
<td align="center">ORS</td>
<td align="center">输出分割符，默认也是换行符</td>
</tr>
<tr>
<td align="center">！</td>
<td align="center">表示包含</td>
</tr>
<tr>
<td align="center">！~</td>
<td align="center">表示不包含</td>
</tr>
</tbody></table>
</blockquote>
<p><code>内置函数： </code></p>
<blockquote>
<table>
<thead>
<tr>
<th align="center">内置函数</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">toupper()</td>
<td align="center">字符转为大写</td>
</tr>
<tr>
<td align="center">tolower()</td>
<td align="center">字符转为小写</td>
</tr>
<tr>
<td align="center">length()</td>
<td align="center">返回字符串长度</td>
</tr>
<tr>
<td align="center">sin()</td>
<td align="center">正玹</td>
</tr>
<tr>
<td align="center">cos()</td>
<td align="center">余玹</td>
</tr>
<tr>
<td align="center">sqrt()</td>
<td align="center">平方根</td>
</tr>
<tr>
<td align="center">rand()</td>
<td align="center">随机数</td>
</tr>
<tr>
<td align="center">substr()</td>
<td align="center">返回子字符串</td>
</tr>
</tbody></table>
</blockquote>
<h3><span id="42代码演示">4.2代码演示</span></h3><p>点击<a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_57515995/article/details/125713566">这里</a>进行查看</p>
<h2><span id="5sed">5.sed</span></h2><h3><span id="51基本语法">5.1基本语法</span></h3><blockquote>
<table>
<thead>
<tr>
<th align="center">语法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">a</td>
<td align="center">新增，a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)</td>
</tr>
<tr>
<td align="center">c</td>
<td align="center">取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行</td>
</tr>
<tr>
<td align="center">d</td>
<td align="center">删除，因为是删除啊，所以 d 后面通常不接任何内容</td>
</tr>
<tr>
<td align="center">i</td>
<td align="center">插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center">打印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行</td>
</tr>
<tr>
<td align="center">s</td>
<td align="center">取代，通常这个 s 的动作可以搭配正规表示法</td>
</tr>
</tbody></table>
</blockquote>
<h3><span id="52代码示例">5.2代码示例</span></h3><p><code>添加：</code></p>
<pre><code class="shell">sed -e 3a\newline test  

HELLO LINUX!  
Linux is a free unix-type opterating system.  
This is a linux testfile!  
newline
Linux test
</code></pre>
<p><code>插入：</code></p>
<pre><code class="shell">sed 3i\newline test

HELLO LINUX!  
Linux is a free unix-type opterating system.  
newline
This is a linux testfile!  
Linux test
</code></pre>
<p><code>删除：</code></p>
<pre><code class="shell">sed &#39;/Linux/d&#39; test    

HELLO LINUX!  
This is a linux testfile!
</code></pre>
<p><code>替换：</code></p>
<pre><code class="shell">sed &#39;/Linux/c\Windows&#39; test     

HELLO LINUX!  
Windows
This is a linux testfile!  
Windows
</code></pre>
<h2><span id="6rpm软件安装">6.RPM软件安装</span></h2><h3><span id="61安装包区别">6.1安装包区别</span></h3><p><code>二进制压缩包：</code></p>
<blockquote>
<p>xxx.tar.gz 类似于windows的绿色安装版:解压之后就可以使用</p>
</blockquote>
<p><code>源码压缩包：</code></p>
<blockquote>
<p>yy.tar.gz 编译-&gt;二进制 然后才能使用:解压之后要编译二进制，可配置性强，灵活，方便管理</p>
</blockquote>
<p><code>二进制可执行文件：</code></p>
<blockquote>
<p>二进制可执行文件 *.rpm 类似于windows的exe msi: rpm工具直接运行安装，不太方便配置</p>
</blockquote>
<h3><span id="62命令">6.2命令</span></h3><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">i</td>
<td align="center">安装应用（install）</td>
</tr>
<tr>
<td align="center">e</td>
<td align="center">卸载应用（erase）</td>
</tr>
<tr>
<td align="center">vh</td>
<td align="center">以####显示安装进度（verbose hash）</td>
</tr>
<tr>
<td align="center">U</td>
<td align="center">升级安装包（update）</td>
</tr>
<tr>
<td align="center">qa</td>
<td align="center">显示所有已安装的软件包（query all）</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">安装时显示软件名称</td>
</tr>
<tr>
<td align="center">-h</td>
<td align="center">使用”#“显示进度</td>
</tr>
</tbody></table>
<h2><span id="7yum">7.yum</span></h2><h3><span id="71命令">7.1命令</span></h3><blockquote>
<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">yum update</td>
<td align="center">更新系统上已安装的软件包到最新版本</td>
</tr>
<tr>
<td align="center">yum install <package></package></td>
<td align="center">安装特定的软件包</td>
</tr>
<tr>
<td align="center">yum remove <package></package></td>
<td align="center">从系统中删除指定的软件包</td>
</tr>
<tr>
<td align="center">yum search <keyword></keyword></td>
<td align="center">搜索与关键字匹配的可用软件包</td>
</tr>
<tr>
<td align="center">yum list</td>
<td align="center">列出系统上已安装的所有软件包</td>
</tr>
<tr>
<td align="center">yum upgrade</td>
<td align="center">升级所有可用的软件包到最新版本</td>
</tr>
<tr>
<td align="center">yum info <package></package></td>
<td align="center">显示指定软件包的详细信息</td>
</tr>
<tr>
<td align="center">yum clean all</td>
<td align="center">清除缓存和临时文件</td>
</tr>
</tbody></table>
</blockquote>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 LiMao の学习日常
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;LiMao
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
   <canvas
       id="fireworks"
       style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
   ></canvas>
   <script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
   <script src="/js/fireworks.min.js"></script>


    <canvas
        id="background"
        style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
    ></canvas>
    <script src="/js/background.min.js"></script>

<script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>